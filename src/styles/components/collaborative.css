/* ========================================
   Collaborative Editing Styles
   ======================================== */

/* Active editors indicator */
.active-editors {
  @apply flex items-center gap-[var(--space-2)] flex-wrap mt-[var(--space-3)] py-[var(--space-2)] px-[var(--space-3)] bg-bg-elevated border border-border-light rounded-m text-[0.8125rem];
}

.active-editors-label {
  @apply text-text-muted;
}

.active-editor {
  @apply inline-flex items-center gap-[var(--space-1)] py-[var(--space-1)] px-[var(--space-2)] rounded-s;
  background-color: rgba(144, 202, 249, 0.2);
}

.active-editor-avatar {
  @apply w-5 h-5 rounded-full object-cover;
}

.active-editor-name {
  @apply text-text font-medium;
}

/* Collaborator role badge */
.collaborator-role-badge {
  @apply inline-block mt-[var(--space-3)] py-[var(--space-2)] px-[var(--space-3)] rounded-m text-[0.8125rem] text-text-muted;
  background-color: rgba(144, 202, 249, 0.15);
  border: 1px solid rgba(144, 202, 249, 0.3);
}

/* Collaborator manager modal */
.collaborator-modal {
  @apply overflow-y-auto;
  max-width: 500px;
  max-height: 80vh;
}

.collaborator-invite-section {
  @apply p-[var(--space-4)] bg-bg rounded-m mb-[var(--space-4)];
}

.collaborator-invite-desc {
  @apply m-0 mb-[var(--space-3)] text-sm text-text-muted;
}

.collaborator-invite-row {
  @apply flex gap-[var(--space-2)] items-center;
}

.collaborator-invite-form {
  @apply flex flex-col gap-[var(--space-3)] p-[var(--space-4)] bg-bg rounded-m mb-[var(--space-4)];

  & .form-row {
    @apply flex gap-[var(--space-2)];

    & .input {
      @apply flex-1;
    }
  }
}

.collaborator-role-select {
  @apply min-w-[100px];
  flex: 0 0 auto !important;
}

.collaborator-error {
  @apply p-[var(--space-3)] rounded-m text-danger text-sm mb-[var(--space-4)];
  background-color: rgba(220, 53, 69, 0.1);
  border: 1px solid rgba(220, 53, 69, 0.3);
}

.collaborator-loading {
  @apply text-center p-[var(--space-6)] text-text-muted;
}

.collaborator-section {
  @apply mb-[var(--space-5)];
}

.collaborator-section-title {
  @apply text-sm font-medium text-text-muted mb-[var(--space-3)] uppercase tracking-wide;
}

.collaborator-list {
  @apply list-none m-0 p-0;
}

.collaborator-item {
  @apply flex justify-between items-center p-[var(--space-3)] bg-bg-elevated border border-border-light rounded-m mb-[var(--space-2)];

  &.pending {
    background-color: rgba(255, 193, 7, 0.05);
    border-color: rgba(255, 193, 7, 0.3);
  }
}

.collaborator-info {
  @apply flex items-center gap-[var(--space-2)] flex-wrap;
}

.collaborator-avatar {
  @apply w-8 h-8 rounded-full object-cover;
}

.collaborator-details {
  @apply flex flex-col;
}

.collaborator-name {
  @apply font-medium text-text;
}

.collaborator-email {
  @apply font-medium text-text;
}

.collaborator-role {
  @apply text-xs text-text-muted py-[var(--space-1)] px-[var(--space-2)] bg-bg rounded-s;
}

.collaborator-expiry {
  @apply text-xs text-text-faint;
}

.collaborator-actions {
  @apply flex gap-[var(--space-2)] shrink-0;
}

.collaborator-empty {
  @apply text-center p-[var(--space-6)] text-text-muted text-sm leading-relaxed;
}

.collaborator-note {
  @apply text-xs text-text-faint leading-relaxed m-0;
}

/* Mobile responsive for collaborators */
@media (max-width: 480px) {
  .collaborator-modal {
    max-height: 90vh;
    @apply m-[var(--space-3)];
  }

  .collaborator-invite-row {
    @apply flex-col items-stretch;
  }

  .collaborator-invite-form .form-row {
    @apply flex-col;
  }

  .collaborator-role-select {
    @apply w-full;
  }

  .collaborator-item {
    @apply flex-col items-start gap-[var(--space-2)];
  }

  .collaborator-actions {
    @apply w-full justify-end;
  }

  .active-editors {
    @apply flex-col items-start;
  }
}
