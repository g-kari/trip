/* ========================================
   QR Code Modal
   ======================================== */

.qr-modal {
  max-width: 340px;
  @apply text-center;
}

.qr-modal-content {
  @apply py-[var(--space-4)];
}

.qr-modal-code-wrapper {
  @apply relative inline-flex items-center justify-center
         p-[var(--space-4)]
         rounded-m border border-border-light
         mb-[var(--space-4)];
  background-color: #ffffff;
}

.qr-modal-canvas {
  @apply block;

  &.loading {
    @apply opacity-0;
  }
}

.qr-modal-loading {
  @apply absolute bg-bg rounded-s;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  width: 200px;
  height: 200px;
  animation: pulse-qr 1.5s infinite;
}

.qr-modal-error {
  @apply p-[var(--space-6)] text-text-muted text-sm;
}

.qr-modal-url {
  @apply bg-bg
         py-[var(--space-2)] px-[var(--space-3)]
         rounded-s border border-border-light
         mx-[var(--space-2)];
}

.qr-modal-url-text {
  @apply text-xs text-text-muted break-all font-mono;
}

.qr-modal-actions {
  @apply flex gap-[var(--space-3)] justify-center
         mt-[var(--space-4)] pb-[var(--space-4)]
         border-b border-border-light;
}

.qr-modal-btn {
  @apply inline-flex items-center gap-[var(--space-2)]
         py-[var(--space-2)] px-[var(--space-4)]
         text-[0.8125rem];
  min-height: 40px;

  & svg {
    @apply shrink-0;
  }

  &.copied {
    color: var(--color-success);
    border-color: var(--toast-success-border);
    background-color: var(--toast-success-bg);
  }

  &:disabled {
    @apply opacity-50 cursor-not-allowed;
  }
}

/* Dark mode adjustments */
[data-color-mode="dark"] .qr-modal-code-wrapper {
  background-color: #ffffff;
}

[data-color-mode="dark"] .qr-modal-btn.copied {
  background-color: var(--toast-success-bg);
}

/* Mobile responsive */
@media (max-width: 480px) {
  .qr-modal {
    max-width: 100%;
    @apply mx-[var(--space-4)];
  }

  .qr-modal-actions {
    @apply flex-col gap-[var(--space-2)];
  }

  .qr-modal-btn {
    @apply w-full justify-center;
  }
}

@media (pointer: coarse) {
  .qr-modal-btn {
    min-height: 44px;
  }
}
