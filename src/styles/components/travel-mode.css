/* Travel Mode Banner */
.travel-mode-banner {
  @apply flex items-center justify-between
         gap-[var(--space-3)]
         py-[var(--space-3)] px-[var(--space-4)]
         my-[var(--space-4)];
  background: linear-gradient(135deg, var(--color-accent) 0%, var(--color-accent-hover) 100%);
  color: white;
  border-radius: 10px;
}

.travel-mode-content {
  @apply flex items-center gap-[var(--space-3)] flex-wrap;
}

.travel-mode-badge {
  @apply inline-flex items-center gap-[var(--space-1)]
         py-[var(--space-1)] px-[var(--space-2)]
         text-[0.8125rem] font-semibold whitespace-nowrap;
  background: rgba(255, 255, 255, 0.2);
  border-radius: 6px;

  &::before {
    content: '';
    @apply inline-block size-2 rounded-full;
    background: var(--color-success);
    animation: pulse-travel 2s ease-in-out infinite;
  }
}

@keyframes pulse-travel {
  0%, 100% { opacity: 1; transform: scale(1); }
  50% { opacity: 0.6; transform: scale(0.9); }
}

.travel-mode-progress {
  @apply flex items-center gap-[var(--space-3)];
}

.travel-mode-progress-text {
  @apply text-[0.8125rem] opacity-90;
}

.travel-mode-jump-btn {
  @apply py-[var(--space-1)] px-[var(--space-3)]
         text-[0.8125rem] cursor-pointer whitespace-nowrap;
  background: rgba(255, 255, 255, 0.2);
  color: white;
  border: 1px solid rgba(255, 255, 255, 0.3);
  border-radius: 6px;
  transition: background var(--transition-fast);

  &:hover {
    background: rgba(255, 255, 255, 0.3);
  }
}

/* Check-in Button */
.checkin-btn {
  @apply inline-flex items-center justify-center
         size-6 border-2 border-border rounded-full
         bg-transparent cursor-pointer shrink-0;
  transition: all var(--transition-fast);

  &:hover:not(.checked):not(:disabled) {
    @apply border-accent;
    background: rgba(var(--color-accent-rgb, 61, 46, 31), 0.05);
  }

  &.checked {
    color: white;
    border-color: var(--color-success);
    background: var(--color-success);

    &::after {
      content: '\2713';
      font-size: 14px;
      @apply font-semibold;
    }
  }

  &:disabled {
    @apply opacity-50 cursor-not-allowed;
  }

  &.loading {
    @apply opacity-70;

    &::after {
      content: '';
      @apply size-3 rounded-full;
      border: 2px solid var(--color-border);
      border-top-color: transparent;
      animation: spin 0.8s linear infinite;
    }
  }
}

@keyframes spin {
  to { transform: rotate(360deg); }
}

/* Check-in Time Display */
.checkin-time {
  @apply text-xs ml-[var(--space-1)];
  color: var(--color-success);
}

/* Timeline Item with Check-in */
.timeline-item-checkin {
  @apply flex items-start gap-[var(--space-2)];

  & .checkin-btn {
    @apply mt-0.5 shrink-0;
  }

  & .timeline-content {
    @apply flex-1;
  }
}

/* Today indicator for day sections */
.day-section.is-today {
  @apply relative pl-[var(--space-4)] py-[var(--space-3)]
         rounded-m;
  background: rgba(var(--color-accent-rgb, 61, 46, 31), 0.04);

  &::before {
    content: '';
    @apply absolute left-0 top-0 bottom-0 bg-accent;
    width: 3px;
    border-radius: 2px;
  }
}

.day-header .today-badge {
  @apply inline-flex items-center
         py-[var(--space-1)] px-[var(--space-3)]
         bg-accent text-xs font-medium
         ml-[var(--space-2)];
  color: white;
  border-radius: 4px;
  letter-spacing: 0.02em;
}

/* Dark mode â€” use solid dark background instead of accent gradient */
[data-color-mode="dark"] .travel-mode-banner {
  background: linear-gradient(135deg, #2a3a2a 0%, #3a4a3a 100%);
}
[data-color-mode="dark"] .today-badge {
  background: #3a4a3a;
}

@media (prefers-color-scheme: dark) {
  [data-color-mode="system"] .travel-mode-banner,
  :root:not([data-color-mode]) .travel-mode-banner {
    background: linear-gradient(135deg, #2a3a2a 0%, #3a4a3a 100%);
  }
  [data-color-mode="system"] .today-badge,
  :root:not([data-color-mode]) .today-badge {
    background: #3a4a3a;
  }
}

/* Responsive */
@media (max-width: 480px) {
  .travel-mode-banner {
    @apply flex-col items-start;
  }

  .travel-mode-jump-btn {
    @apply w-full text-center;
  }
}

/* Print styles - hide travel mode UI */
@media print {
  .travel-mode-banner,
  .checkin-btn,
  .checkin-time {
    display: none !important;
  }
}
