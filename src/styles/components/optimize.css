/* ========================================
   Route Optimization - AI-powered route optimization
   ======================================== */

/* Modal styles */
.optimize-modal {
  @apply w-[95%];
  max-width: 600px;
}

/* Empty state */
.optimize-empty {
  @apply text-center p-[var(--space-5)];

  p {
    @apply mb-[var(--space-3)] text-text-muted text-sm leading-relaxed;
  }
}

.optimize-empty-note {
  font-size: 0.75rem !important;
  color: var(--color-text-faint) !important;
}

/* Loading state */
.optimize-loading {
  @apply flex flex-col items-center justify-center p-[var(--space-7)] gap-[var(--space-3)];

  p {
    @apply text-text-muted text-sm;
  }
}

.optimize-spinner {
  @apply w-8 h-8 rounded-full;
  border: 2px solid var(--color-border);
  border-top-color: var(--color-accent);
  animation: optimize-spin 0.8s linear infinite;
}

@keyframes optimize-spin {
  to {
    transform: rotate(360deg);
  }
}

/* Error state */
.optimize-error {
  @apply text-center p-[var(--space-5)];

  p {
    @apply mb-[var(--space-4)] text-text-muted text-sm;
  }
}

/* Remaining uses */
.optimize-remaining {
  @apply text-xs text-text-faint mt-[var(--space-3)] text-center;
}

/* Results section */
.optimize-results {
  @apply flex flex-col gap-[var(--space-4)];
}

/* Savings display */
.optimize-savings {
  @apply flex items-center justify-center gap-[var(--space-2)] p-[var(--space-3)] rounded-lg;
  background: #d1fae5;
}

[data-color-mode="dark"] .optimize-savings {
  background: rgba(209, 250, 229, 0.15);
}

.optimize-savings-icon {
  @apply font-semibold;
  color: #065f46;
}

[data-color-mode="dark"] .optimize-savings-icon {
  color: #34d399;
}

.optimize-savings-text {
  @apply text-sm font-medium;
  color: #065f46;
}

[data-color-mode="dark"] .optimize-savings-text {
  color: #34d399;
}

/* Warnings */
.optimize-warnings {
  @apply flex flex-col gap-[var(--space-2)];
}

.optimize-warning {
  @apply text-[0.8125rem];
  padding: var(--space-2) var(--space-3);
  background: #fef3c7;
  border-radius: 6px;
  color: #92400e;
}

[data-color-mode="dark"] .optimize-warning {
  background: rgba(254, 243, 199, 0.15);
  color: #fbbf24;
}

/* Comparison layout */
.optimize-comparison {
  @apply grid items-start gap-[var(--space-3)];
  grid-template-columns: 1fr auto 1fr;
}

@media (max-width: 480px) {
  .optimize-comparison {
    @apply gap-[var(--space-4)];
    grid-template-columns: 1fr;
  }

  .optimize-arrow {
    transform: rotate(90deg);
    justify-self: center;
  }
}

.optimize-arrow {
  @apply flex items-center justify-center text-xl text-text-faint pt-[var(--space-7)];
}

.optimize-column {
  @apply flex flex-col gap-[var(--space-2)];
}

.optimize-column-title {
  @apply text-xs font-medium text-text-muted uppercase tracking-wide pb-[var(--space-2)] border-b border-border-light;
}

.optimize-list {
  @apply flex flex-col gap-[var(--space-2)];
}

/* Item in list */
.optimize-item {
  @apply flex items-start gap-[var(--space-2)] bg-bg border border-border-light rounded-lg transition-all duration-150;
  padding: var(--space-2) var(--space-3);

  &.moved {
    background: #dbeafe;
    border-color: #93c5fd;
  }
}

[data-color-mode="dark"] .optimize-item.moved {
  background: rgba(219, 234, 254, 0.1);
  border-color: rgba(147, 197, 253, 0.3);
}

.optimize-item-number {
  @apply flex items-center justify-center w-5 h-5 text-[0.6875rem] font-semibold text-text-muted rounded-full shrink-0;
  background: var(--color-border-light);
}

.optimize-item.moved .optimize-item-number {
  background: #3b82f6;
  color: white;
}

.optimize-item-content {
  @apply flex flex-col min-w-0;
  gap: 2px;
}

.optimize-item-title {
  @apply text-[0.8125rem] font-medium text-text flex flex-wrap items-center gap-[var(--space-2)];
}

.optimize-item-moved-badge {
  @apply text-[0.625rem] font-normal rounded;
  color: #1e40af;
  background: #bfdbfe;
  padding: 1px 6px;
}

[data-color-mode="dark"] .optimize-item-moved-badge {
  background: rgba(191, 219, 254, 0.2);
  color: #60a5fa;
}

.optimize-item-area {
  @apply text-[0.6875rem] text-text-faint;
}

.optimize-item-reason {
  @apply text-[0.6875rem] text-text-muted italic;
}

/* Actions */
.optimize-actions {
  @apply flex justify-end gap-[var(--space-3)] pt-[var(--space-4)] border-t border-border-light;
}

.optimize-no-change {
  @apply flex flex-col items-center gap-[var(--space-3)] w-full;

  p {
    @apply text-sm text-text-muted;
  }
}

/* Print: hide optimization UI */
@media print {
  .optimize-modal {
    @apply hidden;
  }
}
