/* ========================================
   Trip Templates (User's saved templates)
   ======================================== */

/* Modal specific styles */
.trip-template-modal {
  max-width: 480px;
}

.trip-template-modal .modal-content {
  max-height: 70vh;
}

/* Template loading state */
.template-loading {
  @apply p-[var(--space-6)] text-center text-text-muted text-sm;
}

/* Empty state for no templates */
.template-empty-state {
  @apply p-[var(--space-6)] text-center;
}

.template-empty-text {
  @apply text-sm text-text-muted mb-[var(--space-2)];
}

.template-empty-hint {
  @apply text-[0.8125rem] text-text-faint m-0;
}

/* Template section header */
.template-section-header {
  @apply text-xs font-medium text-text-muted
         uppercase tracking-wide
         py-[var(--space-2)] px-[var(--space-4)]
         bg-bg border-b border-border-light;
}

/* Template list */
.template-list-container {
  @apply overflow-y-auto;
  max-height: 400px;
}

.trip-template-list {
  @apply list-none p-0 m-0;
}

.trip-template-item {
  @apply flex items-start justify-between
         py-[var(--space-3)] px-[var(--space-4)]
         border-b border-border-light;
  transition: background-color var(--transition-fast);

  &:last-child {
    @apply border-b-0;
  }

  &:hover {
    @apply bg-bg;
  }
}

.trip-template-item-content {
  @apply flex-1 cursor-pointer min-w-0;
}

.trip-template-item-header {
  @apply flex items-center gap-[var(--space-2)] mb-[var(--space-1)];
}

.trip-template-name {
  @apply text-[0.9375rem] font-medium text-text
         overflow-hidden text-ellipsis whitespace-nowrap;
}

.trip-template-theme {
  @apply text-[0.6875rem]
         py-[var(--space-1)] px-[var(--space-2)]
         bg-bg text-text-muted shrink-0;
  border-radius: 4px;
}

.trip-template-theme-quiet {
  background-color: #f5f0eb;
  color: #8c7b6b;
}

.trip-template-theme-photo {
  background-color: #f0f4f5;
  color: #6b7b8c;
}

[data-color-mode="dark"] .trip-template-theme-quiet {
  background-color: rgba(245, 240, 235, 0.1);
  color: #a89a85;
}

[data-color-mode="dark"] .trip-template-theme-photo {
  background-color: rgba(240, 244, 245, 0.1);
  color: #a0a0b0;
}

@media (prefers-color-scheme: dark) {
  [data-color-mode="system"] .trip-template-theme-quiet,
  :root:not([data-color-mode]) .trip-template-theme-quiet {
    background-color: rgba(245, 240, 235, 0.1);
    color: #a89a85;
  }

  [data-color-mode="system"] .trip-template-theme-photo,
  :root:not([data-color-mode]) .trip-template-theme-photo {
    background-color: rgba(240, 244, 245, 0.1);
    color: #a0a0b0;
  }
}

.trip-template-description {
  @apply text-[0.8125rem] text-text-muted
         m-0 mb-[var(--space-1)]
         overflow-hidden text-ellipsis whitespace-nowrap;
}

.trip-template-meta {
  @apply flex flex-wrap gap-[var(--space-2)]
         text-xs text-text-faint;

  & span::before {
    content: '';
  }

  & span:not(:first-child)::before {
    content: ' / ';
    margin-right: var(--space-1);
  }
}

.trip-template-delete {
  @apply shrink-0 ml-[var(--space-2)] opacity-50;
  transition: opacity var(--transition-fast);
}

.trip-template-item:hover .trip-template-delete {
  @apply opacity-100;
}

/* Selected template & create form */
.template-create-form {
  @apply py-[var(--space-4)];
}

.template-selected-info {
  @apply flex items-center justify-between
         p-[var(--space-3)]
         bg-bg border border-border-light rounded-m
         mb-[var(--space-4)];
}

.template-selected-name {
  @apply text-sm font-medium text-text;
}

.template-create-fields {
  @apply flex flex-col gap-[var(--space-3)];
}

.template-create-actions {
  @apply flex justify-between gap-[var(--space-3)] mt-[var(--space-4)];
}

/* Save as template modal */
.save-template-modal {
  max-width: 400px;
}

.save-template-form {
  @apply py-[var(--space-2)];
}

.save-template-hint {
  @apply text-[0.8125rem] text-text-muted
         m-0 mb-[var(--space-4)] leading-relaxed;
}

.save-template-form .form-field {
  @apply mb-[var(--space-3)];
}

.save-template-form .form-label {
  @apply block text-[0.8125rem] text-text-muted mb-[var(--space-1)];
}

.save-template-actions {
  @apply flex justify-end gap-[var(--space-3)] pt-[var(--space-3)];
}

/* Public template warning */
.public-warning {
  @apply p-[var(--space-4)] rounded-m mb-[var(--space-4)];
  background-color: var(--color-warning-bg);
  border: 1px solid var(--color-warning-border);
}

.public-warning-icon {
  @apply text-[2rem] text-center mb-[var(--space-2)];
}

.public-warning-text {
  @apply text-[0.9375rem] text-text
         m-0 mb-[var(--space-3)] text-center;
}

.public-warning-list {
  @apply text-[0.8125rem] text-text-muted
         m-0 pl-[var(--space-5)] leading-loose;

  & li {
    @apply mb-[var(--space-1)];
  }
}

.btn-warning {
  background-color: var(--color-danger);
  border-color: var(--color-danger);

  &:hover {
    background-color: var(--color-danger-hover);
    border-color: var(--color-danger-hover);
  }
}

/* Checkbox for public option */
.checkbox-label {
  @apply flex items-start gap-[var(--space-2)] cursor-pointer;

  & input[type="checkbox"] {
    @apply mt-0.5 shrink-0;
  }
}

.checkbox-text {
  @apply text-sm text-text;
}

.checkbox-hint {
  @apply block text-xs text-text-muted mt-[var(--space-1)];
}

/* Public badge */
.trip-template-public-badge {
  @apply text-[0.6875rem] shrink-0;
  padding: 2px 6px;
  border-radius: var(--radius-xs);
  background-color: var(--color-badge-success-bg, #e8f5e9);
  color: var(--color-badge-success-text, #2e7d32);
}

/* Mobile responsive */
@media (max-width: 480px) {
  .trip-template-modal {
    max-width: 100%;
  }

  .trip-template-item {
    @apply p-[var(--space-3)];
  }

  .trip-template-item-header {
    @apply flex-wrap;
  }

  .template-create-actions {
    @apply flex-col-reverse;
  }

  .template-create-actions .btn-filled {
    @apply w-full;
  }

  .save-template-actions {
    @apply flex-col-reverse;
  }

  .save-template-actions .btn-filled,
  .save-template-actions .btn-text {
    @apply w-full text-center;
  }
}
