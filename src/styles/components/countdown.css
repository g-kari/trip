/* ========================================
   Countdown Widget â€” trip countdown display
   ======================================== */

.countdown-widget {
  @apply inline-flex items-center gap-[var(--space-2)];
}

/* ========================================
   Compact Mode (for trip cards)
   ======================================== */

.countdown-compact {
  @apply text-xs;
}

.countdown-text-compact {
  @apply text-text-muted whitespace-nowrap;

  & .countdown-number {
    @apply text-sm font-medium text-accent;
    margin: 0 2px;
  }
}

.countdown-text-small {
  @apply text-text-faint text-[0.6875rem];
}

/* ========================================
   Full Mode (for trip detail page)
   ======================================== */

.countdown-full {
  @apply flex-col items-center
         py-[var(--space-3)] px-[var(--space-4)]
         bg-bg-elevated border border-border-light rounded-m
         mt-[var(--space-3)];
}

.countdown-label {
  @apply text-xs text-text-muted mb-[var(--space-2)];
}

.countdown-values {
  @apply flex gap-[var(--space-4)] justify-center;
}

.countdown-unit {
  @apply flex flex-col items-center;
  min-width: 48px;
}

.countdown-value {
  @apply text-2xl font-bold text-accent leading-tight;
  font-variant-numeric: tabular-nums;
}

.countdown-unit-label {
  @apply text-[0.6875rem] text-text-faint;
  margin-top: 2px;
}

/* ========================================
   Badges
   ======================================== */

.countdown-badge {
  @apply inline-flex items-center
         rounded-s text-[0.6875rem] font-medium
         whitespace-nowrap;
  padding: 2px 8px;
}

.countdown-badge-traveling {
  @apply bg-success;
  color: #fff;
}

.countdown-badge-ended {
  @apply bg-border text-text-muted;
}

.countdown-badge-imminent {
  @apply bg-accent text-bg;
}

/* Text after badge in full mode */
.countdown-ended .countdown-text-muted {
  @apply text-text-faint text-xs ml-[var(--space-2)];
}

/* ========================================
   State Variations
   ======================================== */

/* When trip is today/imminent */
.countdown-today .countdown-text-compact {
  @apply text-text;
}

.countdown-today .countdown-number {
  @apply text-success;
}

.countdown-imminent .countdown-badge {
  animation: pulse 2s ease-in-out infinite;
}

@keyframes pulse {
  0%, 100% {
    opacity: 1;
  }
  50% {
    opacity: 0.7;
  }
}

/* ========================================
   Dark Mode Adjustments
   ======================================== */

[data-color-mode="dark"] .countdown-badge-traveling {
  @apply bg-success;
}

[data-color-mode="dark"] .countdown-badge-ended {
  @apply bg-border text-text-muted;
}

[data-color-mode="dark"] .countdown-badge-imminent {
  @apply bg-accent text-bg;
}

@media (prefers-color-scheme: dark) {
  [data-color-mode="system"] .countdown-badge-traveling,
  :root:not([data-color-mode]) .countdown-badge-traveling {
    background: var(--color-success);
  }

  [data-color-mode="system"] .countdown-badge-ended,
  :root:not([data-color-mode]) .countdown-badge-ended {
    background: var(--color-border);
    color: var(--color-text-muted);
  }

  [data-color-mode="system"] .countdown-badge-imminent,
  :root:not([data-color-mode]) .countdown-badge-imminent {
    background: var(--color-accent);
    color: var(--color-bg);
  }
}

/* ========================================
   Print Styles
   ======================================== */

@media print {
  .countdown-widget {
    @apply hidden;
  }
}
