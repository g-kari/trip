/* ========================================
   Photo uploader badge
   ======================================== */

.photo-uploader {
  @apply block text-[0.6875rem] text-text-muted mt-[var(--space-1)];
}

.day-photo-item {
  @apply relative;

  & .photo-uploader {
    @apply absolute bottom-[var(--space-1)] left-[var(--space-1)] text-[0.625rem];
    background: rgba(255, 255, 255, 0.85);
    padding: 2px 6px;
    border-radius: 4px;
  }
}

.photo-upload-section {
  @apply mt-[var(--space-2)];
}

/* ========================================
   Item Photos (Memory Photos)
   ======================================== */

/* Auto-layout: adjust grid columns based on photo count */
.item-photos-grid {
  @apply grid gap-[var(--space-2)] mt-[var(--space-3)];
  grid-template-columns: repeat(auto-fill, minmax(120px, 1fr));
}

/* 1 photo: single full-width */
.item-photos-grid:has(> :nth-child(1):last-child) {
  grid-template-columns: 1fr;
}

.item-photos-grid:has(> :nth-child(1):last-child) .memory-photo {
  height: 180px;
  max-width: 320px;
}

/* 2 photos: side by side */
.item-photos-grid:has(> :nth-child(2):last-child) {
  grid-template-columns: 1fr 1fr;
}

.item-photos-grid:has(> :nth-child(2):last-child) .memory-photo {
  height: 140px;
}

/* 3 photos: 2+1 layout (first two side-by-side, third full width) */
.item-photos-grid:has(> :nth-child(3):last-child) {
  grid-template-columns: 1fr 1fr;
}

.item-photos-grid:has(> :nth-child(3):last-child) > :nth-child(3) {
  grid-column: 1 / -1;
}

.item-photos-grid:has(> :nth-child(3):last-child) .memory-photo {
  height: 120px;
}

.item-photo-item {
  @apply relative;

  & .photo-uploader {
    @apply absolute bottom-[var(--space-1)] left-[var(--space-1)] text-[0.625rem];
    background: rgba(255, 255, 255, 0.85);
    padding: 2px 6px;
    border-radius: 4px;
  }
}

.item-photo-item:hover .item-photo-delete {
  @apply opacity-100;
}

.item-photo {
  @apply mt-[var(--space-3)] relative inline-block;
}

.memory-photo {
  @apply w-full object-cover border border-border-light;
  height: 100px;
  border-radius: 8px;
}

.item-photo-delete {
  @apply absolute flex items-center justify-center border border-border rounded-full cursor-pointer opacity-0 text-danger;
  top: 4px;
  right: 4px;
  width: 24px;
  height: 24px;
  font-size: 14px;
  background: rgba(255, 255, 255, 0.9);
  transition: opacity 150ms ease;

  &:hover {
    background: rgba(255, 255, 255, 1);
    color: var(--color-danger-hover);
  }
}

.item-photo:hover .item-photo-delete {
  @apply opacity-100;
}
