/* ========================================
   Gallery Page Styles
   ======================================== */

.gallery-page {
  @apply py-[var(--space-5)] px-0;
}

.gallery-header {
  @apply text-center mb-[var(--space-6)];
}

.gallery-title {
  @apply text-2xl font-[var(--font-weight-medium)]
         text-text
         mb-[var(--space-2)];
}

.gallery-subtitle {
  @apply text-sm text-text-muted;
}

/* Search & Filter Section */
.gallery-search-section {
  @apply mb-[var(--space-5)];
}

.gallery-search-bar {
  @apply flex gap-[var(--space-2)] items-center;
}

.gallery-search-input {
  @apply flex-1;
}

.gallery-search-btn {
  @apply whitespace-nowrap;
}

.gallery-filter-options {
  @apply mt-[var(--space-4)]
         p-[var(--space-4)]
         bg-bg-elevated
         border border-border-light rounded-m;
}

/* Grid Layout */
.gallery-grid {
  @apply grid gap-[var(--space-4)];
  grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
}

/* Gallery Card */
.gallery-card {
  @apply block no-underline
         border border-border-light rounded-m
         bg-bg-elevated
         overflow-hidden;
  color: inherit;
  transition: border-color var(--transition-fast), transform var(--transition-fast);

  &:hover {
    @apply border-border;
    transform: translateY(-2px);
  }
}

.gallery-card-image {
  @apply h-40 bg-cover bg-center;
  background-color: var(--color-border-light);
}

.gallery-card-image-placeholder {
  @apply flex items-center justify-center;
  background: linear-gradient(135deg, var(--color-bg) 0%, var(--color-border-light) 100%);
}

.gallery-card-image-icon {
  @apply text-[2.5rem] text-text-faint opacity-50;
}

.gallery-card-content {
  @apply p-[var(--space-4)];
}

.gallery-card-title {
  @apply text-base font-[var(--font-weight-medium)]
         text-text
         mb-[var(--space-2)]
         leading-[1.4]
         overflow-hidden;
  display: -webkit-box;
  -webkit-line-clamp: 2;
  -webkit-box-orient: vertical;
}

.gallery-card-meta {
  @apply flex items-center
         gap-[var(--space-2)]
         text-[0.8125rem] text-text-muted
         mb-[var(--space-3)];
}

.gallery-card-days {
  @apply font-[var(--font-weight-medium)];
}

.gallery-card-date {
  @apply text-text-faint;
}

.gallery-card-actions {
  @apply flex items-center gap-[var(--space-3)];
}

/* Gallery Action Buttons */
.gallery-action-btn {
  @apply inline-flex items-center
         gap-[var(--space-1)]
         py-[var(--space-1)] px-[var(--space-2)]
         border border-border-light rounded-s
         bg-transparent
         text-text-muted text-xs
         cursor-pointer;
  transition: all var(--transition-fast);

  &:hover {
    @apply border-border text-text;
  }

  &.active {
    @apply bg-accent border-accent text-bg-elevated;
  }

  &.like-btn.active {
    background-color: #e74c3c;
    border-color: #e74c3c;
  }

  &.save-btn.active {
    @apply bg-accent border-accent;
  }
}

.action-count {
  @apply font-[var(--font-weight-medium)];
}

/* Gallery Detail Page Actions */
.gallery-detail-actions {
  @apply flex flex-wrap justify-center
         gap-[var(--space-3)]
         mt-[var(--space-4)];
}

.gallery-detail-action-btn {
  @apply inline-flex items-center
         gap-[var(--space-2)]
         py-[var(--space-2)] px-[var(--space-4)]
         border border-border rounded-m
         bg-bg-elevated text-text
         text-sm cursor-pointer;
  transition: all var(--transition-fast);

  &:hover {
    @apply border-accent;
  }

  &.active {
    @apply bg-accent border-accent text-bg-elevated;
  }

  &.primary {
    @apply bg-accent border-accent text-bg-elevated;

    &:hover {
      @apply bg-accent-hover border-accent-hover;
    }
  }

  &:disabled {
    @apply opacity-60 cursor-not-allowed;
  }
}

/* Gallery Login Prompt */
.gallery-login-prompt {
  @apply flex flex-col items-center
         gap-[var(--space-3)]
         p-[var(--space-6)]
         my-[var(--space-5)]
         text-center
         border border-border-light rounded-m
         bg-bg-elevated;

  & p {
    @apply text-sm text-text-muted m-0;
  }
}

/* Saved Section Link */
.gallery-saved-section {
  @apply flex justify-center
         mt-[var(--space-6)]
         pt-[var(--space-5)]
         border-t border-border-light;
}

/* ========================================
   Publish Modal Styles
   ======================================== */

.publish-modal {
  @apply max-w-[480px];
}

.publish-modal .modal-title {
  @apply flex items-center gap-[var(--space-2)];
}

.publish-modal-loading {
  @apply p-[var(--space-5)]
         text-center text-text-muted;
}

.publish-modal-content {
  @apply my-[var(--space-4)];
}

.publish-modal-description {
  @apply text-sm text-text-muted
         mb-[var(--space-4)]
         leading-relaxed;
}

.publish-option {
  @apply mb-[var(--space-4)];
}

.publish-option-label {
  @apply block text-sm font-[var(--font-weight-medium)]
         text-text
         mb-[var(--space-1)];
}

.publish-option-hint {
  @apply text-xs text-text-faint
         mb-[var(--space-2)];
}

/* Toggle Switch */
.publish-toggle {
  @apply flex items-center
         gap-[var(--space-3)]
         cursor-pointer select-none;

  & input {
    @apply hidden;
  }
}

.publish-toggle-slider {
  @apply relative w-12 h-[26px]
         rounded-[13px];
  background-color: var(--color-border);
  transition: background-color var(--transition-fast);

  &::after {
    content: '';
    @apply absolute top-[3px] left-[3px]
           w-5 h-5
           bg-bg-elevated rounded-full;
    transition: transform var(--transition-fast);
  }
}

.publish-toggle input:checked + .publish-toggle-slider {
  @apply bg-accent;
}

.publish-toggle input:checked + .publish-toggle-slider::after {
  transform: translateX(22px);
}

.publish-toggle-label {
  @apply text-sm font-[var(--font-weight-medium)]
         text-text;
}

/* Checkbox */
.publish-checkbox {
  @apply flex items-center
         gap-[var(--space-2)]
         cursor-pointer select-none
         text-sm text-text;

  & input {
    @apply w-[18px] h-[18px];
    accent-color: var(--color-accent);
  }
}

/* Stats */
.publish-stats {
  @apply flex items-center
         gap-[var(--space-2)]
         p-[var(--space-3)]
         bg-bg rounded-s
         text-sm;
}

.publish-stats-label {
  @apply text-text-muted;
}

.publish-stats-value {
  @apply font-[var(--font-weight-medium)] text-text;
}

/* Notice */
.publish-notice {
  @apply mt-[var(--space-4)]
         p-[var(--space-3)]
         bg-bg border border-border-light rounded-s;

  & h4 {
    @apply text-[0.8125rem] font-[var(--font-weight-medium)]
           text-text
           mb-[var(--space-2)];
  }

  & ul {
    @apply m-0 pl-[var(--space-4)];
  }

  & li {
    @apply text-xs text-text-muted leading-relaxed;
  }
}

/* ========================================
   Mobile Responsive
   ======================================== */

@media (max-width: 480px) {
  .gallery-grid {
    @apply grid-cols-1;
  }

  .gallery-card-image {
    @apply h-[140px];
  }

  .gallery-search-bar {
    @apply flex-wrap;
  }

  .gallery-search-input {
    @apply w-full flex-none;
  }

  .gallery-search-bar .btn-filled,
  .gallery-search-bar .filter-toggle {
    @apply flex-1;
  }

  .gallery-detail-actions {
    @apply flex-col;
  }

  .gallery-detail-action-btn {
    @apply w-full justify-center;
  }

  .publish-toggle {
    @apply flex-row-reverse justify-between;
  }
}
