/* ========================================
   Stats Page - Enhanced Dashboard
   ======================================== */

/* Stats color tokens for category bars */
:root {
  --stats-color-transport: #7ba3c9;
  --stats-color-lodging: #c9a37b;
  --stats-color-food: #8cb87f;
  --stats-color-activity: #c9b87b;
  --stats-color-souvenir: #a38bc9;
  --stats-color-other: #a5a09a;
}

.stats-section {
  @apply pt-[var(--space-6)] pb-[var(--space-8)];
}

.stats-loading {
  @apply flex flex-col gap-[var(--space-5)];
}

.stats-summary-skeleton {
  @apply h-[120px] rounded-m;
}

.stats-chart-skeleton {
  @apply h-[200px] rounded-m;
}

/* Hero Section - Total Expense */
.stats-hero {
  @apply text-center
         py-[var(--space-6)] px-[var(--space-4)]
         mb-[var(--space-5)]
         border border-border-light rounded-m
         bg-bg-elevated;
}

.stats-hero-label {
  @apply text-xs text-text-faint
         tracking-[0.1em] uppercase
         mb-[var(--space-2)];
}

.stats-hero-value {
  @apply flex items-baseline justify-center
         gap-[var(--space-1)];
}

.stats-hero-yen {
  @apply text-xl font-[var(--font-weight-normal)]
         text-text-muted;
}

.stats-hero-amount {
  @apply text-[2.5rem] font-[var(--font-weight-medium)]
         text-text
         leading-[1.1] tracking-[-0.02em];
}

.stats-hero-sub {
  @apply text-[0.8125rem] text-text-muted
         mt-[var(--space-3)];
}

/* Key Metrics Grid */
.stats-metrics {
  @apply grid grid-cols-2
         gap-[var(--space-3)]
         mb-[var(--space-5)];
}

.stats-metric-card {
  @apply flex items-center
         gap-[var(--space-3)]
         p-[var(--space-4)]
         border border-border-light rounded-m
         bg-bg-elevated;
}

.stats-metric-icon {
  @apply w-10 h-10
         flex items-center justify-center
         text-xs font-[var(--font-weight-medium)]
         text-text-muted bg-bg rounded-s;
}

.stats-metric-content {
  @apply flex flex-col gap-[var(--space-1)];
}

.stats-metric-value {
  @apply text-xl font-[var(--font-weight-medium)]
         text-text leading-[1.2];
}

.stats-metric-label {
  @apply text-[0.6875rem] text-text-faint;
}

/* Chart sections */
.stats-chart-section {
  @apply mb-[var(--space-5)]
         p-[var(--space-4)]
         border border-border-light rounded-m
         bg-bg-elevated;
}

.stats-chart-title {
  @apply text-[0.8125rem] font-[var(--font-weight-medium)]
         text-text-muted
         mb-[var(--space-4)];
}

.stats-empty {
  @apply text-[0.8125rem] text-text-faint
         text-center
         py-[var(--space-4)] px-0;
}

/* Category Breakdown with Progress Bars */
.stats-category-breakdown {
  @apply flex flex-col gap-[var(--space-4)];
}

.stats-category-item {
  @apply flex flex-col gap-[var(--space-2)];
}

.stats-category-header {
  @apply flex justify-between items-center;
}

.stats-category-left {
  @apply flex items-center gap-[var(--space-2)];
}

.stats-category-icon {
  @apply w-7 h-7
         flex items-center justify-center
         text-[0.625rem] font-[var(--font-weight-medium)]
         rounded-s;
  color: #fff;
}

.stats-category-name {
  @apply text-[0.8125rem] text-text;
}

.stats-category-right {
  @apply flex items-baseline gap-[var(--space-2)];
}

.stats-category-amount {
  @apply text-sm font-[var(--font-weight-medium)]
         text-text;
}

.stats-category-percent {
  @apply text-[0.6875rem] text-text-faint
         min-w-9 text-right;
}

.stats-progress-bar {
  @apply h-2 bg-bg
         rounded-[4px] overflow-hidden;
}

.stats-progress-fill {
  @apply h-full min-w-[2px]
         rounded-[4px];
  transition: width 0.4s ease;
}

/* Average Stats Section */
.stats-averages-section {
  @apply mb-[var(--space-5)]
         p-[var(--space-4)]
         border border-border-light rounded-m
         bg-bg-elevated;
}

.stats-average-grid {
  @apply grid grid-cols-2
         gap-[var(--space-3)];
}

.stats-average-card {
  @apply text-center
         p-[var(--space-3)]
         bg-bg rounded-s;
}

.stats-average-value {
  @apply text-lg font-[var(--font-weight-medium)]
         text-text
         mb-[var(--space-1)];
}

.stats-average-label {
  @apply text-[0.6875rem] text-text-faint;
}

/* Visited Areas */
.stats-areas {
  @apply flex flex-col gap-[var(--space-4)];
}

.stats-areas-count {
  @apply flex items-baseline justify-center
         gap-[var(--space-2)]
         p-[var(--space-3)]
         bg-bg rounded-s;
}

.stats-areas-number {
  @apply text-[2rem] font-[var(--font-weight-medium)]
         text-text leading-none;
}

.stats-areas-label {
  @apply text-[0.8125rem] text-text-muted;
}

.stats-areas-list {
  @apply flex flex-wrap gap-[var(--space-2)];
}

.stats-area-tag {
  @apply inline-block
         py-[var(--space-1)] px-[var(--space-3)]
         text-xs text-text-muted
         bg-bg border border-border-light
         rounded-[20px];
}

/* Theme Cards */
.stats-theme-grid {
  @apply grid grid-cols-2
         gap-[var(--space-3)];
}

.stats-theme-card {
  @apply flex flex-col items-center
         p-[var(--space-4)]
         rounded-m;
}

.stats-theme-card-quiet {
  @apply bg-bg border border-border;
}

.stats-theme-card-photo {
  @apply bg-accent;
  color: var(--color-bg);
}

.stats-theme-card-count {
  @apply text-[2rem] font-[var(--font-weight-medium)]
         leading-[1.1];
}

.stats-theme-card-quiet .stats-theme-card-count {
  @apply text-text;
}

.stats-theme-card-photo .stats-theme-card-count {
  color: var(--color-bg);
}

.stats-theme-card-label {
  @apply text-xs mt-[var(--space-2)];
}

.stats-theme-card-quiet .stats-theme-card-label {
  @apply text-text-muted;
}

.stats-theme-card-photo .stats-theme-card-label {
  color: var(--color-bg);
  @apply opacity-80;
}

/* Monthly chart (vertical bars) */
.stats-monthly-chart {
  @apply flex items-end justify-between
         gap-[var(--space-2)]
         h-[140px]
         pt-[var(--space-3)];
}

.stats-monthly-bar {
  @apply flex-1 flex flex-col items-center
         min-w-0;
}

.stats-monthly-bar-wrapper {
  @apply w-full max-w-8 h-20
         bg-bg rounded-s
         flex flex-col justify-end
         overflow-hidden;
}

.stats-monthly-bar-fill {
  @apply w-full min-h-1
         bg-accent rounded-s;
  transition: height 0.3s ease;
}

.stats-monthly-count {
  @apply text-xs font-[var(--font-weight-medium)]
         text-text
         mt-[var(--space-1)];
}

.stats-monthly-label {
  @apply text-[0.625rem] text-text-faint
         whitespace-nowrap;
}

/* Mobile responsive for stats */
@media (max-width: 480px) {
  .stats-hero-amount {
    @apply text-[2rem];
  }

  .stats-metrics {
    @apply grid-cols-2 gap-[var(--space-2)];
  }

  .stats-metric-card {
    @apply p-[var(--space-3)];
  }

  .stats-metric-icon {
    @apply w-8 h-8 text-[0.6875rem];
  }

  .stats-metric-value {
    @apply text-base;
  }

  .stats-category-header {
    @apply flex-wrap gap-[var(--space-2)];
  }

  .stats-category-icon {
    @apply w-6 h-6 text-[0.5625rem];
  }

  .stats-category-name {
    @apply text-xs;
  }

  .stats-category-amount {
    @apply text-[0.8125rem];
  }

  .stats-average-grid {
    @apply grid-cols-1 gap-[var(--space-2)];
  }

  .stats-average-card {
    @apply p-[var(--space-3)];
  }

  .stats-theme-grid {
    @apply grid-cols-2 gap-[var(--space-2)];
  }

  .stats-theme-card {
    @apply p-[var(--space-3)];
  }

  .stats-theme-card-count {
    @apply text-2xl;
  }

  .stats-monthly-chart {
    @apply h-[120px] overflow-x-auto justify-start
           pb-[var(--space-2)];
  }

  .stats-monthly-bar {
    @apply flex-[0_0_auto] min-w-10;
  }

  .stats-monthly-bar-wrapper {
    @apply h-[60px];
  }
}
