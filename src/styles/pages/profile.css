/* ========================================
   Profile Page
   ======================================== */

.profile-page {
  @apply pt-[var(--space-4)];
}

.profile-header {
  @apply mb-[var(--space-6)];
}

.profile-title {
  @apply text-xl font-[var(--font-weight-medium)]
         text-text;
}

.profile-loading,
.profile-error {
  @apply flex flex-col items-center justify-center
         py-[var(--space-8)] px-0
         text-text-muted text-sm;
}

/* Profile Card */
.profile-card {
  @apply flex flex-col items-center
         gap-[var(--space-4)]
         p-[var(--space-6)]
         mb-[var(--space-5)]
         border border-border-light rounded-m
         bg-bg-elevated;
}

.profile-avatar-section {
  @apply flex items-center justify-center;
}

.profile-avatar {
  @apply w-20 h-20 rounded-full object-cover;
}

.profile-avatar-placeholder {
  @apply w-20 h-20 rounded-full
         flex items-center justify-center
         text-[2rem] font-[var(--font-weight-medium)]
         text-text-muted;
  background-color: var(--color-border-light);
}

.profile-info {
  @apply flex flex-col items-center
         gap-[var(--space-2)]
         w-full;
}

.profile-name-row {
  @apply flex items-center gap-[var(--space-3)];
}

.profile-name {
  @apply text-lg font-[var(--font-weight-medium)]
         text-text;
}

.profile-email {
  @apply text-[0.8125rem] text-text-muted;
}

/* Profile Edit Form */
.profile-edit-form {
  @apply flex flex-col
         gap-[var(--space-4)]
         w-full max-w-[280px];
}

.profile-edit-row {
  @apply flex flex-col gap-[var(--space-2)];
}

.profile-label {
  @apply text-xs text-text-muted;
}

.profile-edit-actions {
  @apply flex justify-end gap-[var(--space-3)];
}

/* Profile Sections */
.profile-section {
  @apply mb-[var(--space-5)];
}

.profile-section-title {
  @apply text-[0.8125rem] font-[var(--font-weight-medium)]
         text-text-muted
         mb-[var(--space-4)]
         uppercase tracking-[0.05em];
}

/* Profile Info List */
.profile-info-list {
  @apply flex flex-col
         gap-[var(--space-3)]
         p-[var(--space-4)]
         border border-border-light rounded-m
         bg-bg-elevated;
}

.profile-info-item {
  @apply flex justify-between items-center;
}

.profile-info-label {
  @apply text-[0.8125rem] text-text-muted;
}

.profile-info-value {
  @apply text-[0.8125rem] text-text;
}

/* Provider Badge */
.provider-badge {
  @apply inline-flex items-center
         py-[var(--space-1)] px-[var(--space-3)]
         text-xs font-[var(--font-weight-medium)]
         rounded-s
         text-text;
  background-color: var(--color-border-light);
}

.provider-badge.provider-google {
  background-color: #e8f0fe;
  color: #1a73e8;
}

.provider-badge.provider-line {
  background-color: #e3f6e8;
  color: #00b900;
}

/* Dark mode provider badges - manual dark mode */
[data-color-mode="dark"] .provider-badge.provider-google {
  background-color: #1e3a5f;
  color: #8ab4f8;
}

[data-color-mode="dark"] .provider-badge.provider-line {
  background-color: #1e4028;
  color: #4ade80;
}

/* Dark mode provider badges - system preference */
@media (prefers-color-scheme: dark) {
  [data-color-mode="system"] .provider-badge.provider-google,
  :root:not([data-color-mode]) .provider-badge.provider-google {
    background-color: #1e3a5f;
    color: #8ab4f8;
  }

  [data-color-mode="system"] .provider-badge.provider-line,
  :root:not([data-color-mode]) .provider-badge.provider-line {
    background-color: #1e4028;
    color: #4ade80;
  }
}

/* Profile Stats Grid */
.profile-stats-grid {
  @apply grid grid-cols-2
         gap-[var(--space-3)];
}

.profile-stat-card {
  @apply flex flex-col items-center
         p-[var(--space-4)]
         border border-border-light rounded-m
         bg-bg-elevated;
}

.profile-stat-value {
  @apply text-2xl font-[var(--font-weight-medium)]
         text-text leading-[1.2];
}

.profile-stat-label {
  @apply text-xs text-text-muted
         mt-[var(--space-1)];
}

/* Profile Actions */
.profile-actions {
  @apply flex flex-col gap-[var(--space-3)];
}

.profile-action-btn {
  @apply w-full justify-center;
}

/* Danger outline button */
.btn-danger-outline {
  @apply border-danger text-danger;

  &:hover {
    border-color: var(--color-danger-hover);
    color: var(--color-danger-hover);
    @apply bg-warning-bg;
  }
}

/* User Profile Link (Header) */
.user-profile-link {
  @apply flex items-center
         gap-[var(--space-3)]
         no-underline
         py-[var(--space-1)] px-[var(--space-2)]
         rounded-s;
  color: inherit;
  transition: background-color var(--transition-fast);

  &:hover {
    @apply bg-bg;
    color: inherit;
  }

  & .user-avatar {
    @apply shrink-0;
  }

  & .user-name {
    @apply text-text-muted;
  }

  &:hover .user-name {
    @apply text-text;
  }
}

/* Profile Delete Modal */
.profile-delete-modal {
  @apply max-w-[400px];
}

.profile-delete-warning {
  @apply mb-[var(--space-4)]
         text-sm text-text-muted
         leading-[1.7];

  & p {
    @apply mb-[var(--space-2)];
  }
}

.profile-delete-list {
  @apply mt-[var(--space-2)] ml-[var(--space-4)]
         list-disc;

  & li {
    @apply mb-[var(--space-1)];
  }
}

.profile-delete-confirm {
  @apply mb-[var(--space-4)];

  & p {
    @apply text-sm text-text
           mb-[var(--space-2)];
  }
}

/* Profile Slots */
.profile-slots {
  @apply flex flex-col
         gap-[var(--space-4)]
         p-[var(--space-4)]
         border border-border-light rounded-m
         bg-bg-elevated;
}

.profile-slot-info {
  @apply flex flex-col gap-[var(--space-2)];
}

.profile-slot-row {
  @apply flex justify-between items-center
         py-[var(--space-2)] px-0
         border-b border-border-light;

  &:last-child {
    @apply border-b-0;
  }
}

.profile-slot-label {
  @apply text-sm text-text-muted;
}

.profile-slot-value {
  @apply text-[0.9375rem] font-[var(--font-weight-medium)]
         text-text;
}

.profile-slot-remaining {
  @apply text-accent;
}

.profile-slot-detail {
  @apply text-[0.8125rem] text-text-muted;
}

.profile-premium-badge {
  @apply py-[var(--space-2)] px-[var(--space-3)]
         rounded-s
         text-[0.8125rem] font-[var(--font-weight-medium)]
         text-center;
  background-color: #e8f5e9;
  color: #2e7d32;
}

.profile-slot-promo {
  @apply p-[var(--space-2)]
         text-[0.8125rem] text-text-muted
         text-center;

  & p {
    @apply m-0;
  }
}

/* Dark mode slots */
[data-color-mode="dark"] .profile-premium-badge {
  background-color: rgba(46, 125, 50, 0.2);
  color: #81c784;
}

@media (prefers-color-scheme: dark) {
  [data-color-mode="system"] .profile-premium-badge,
  :root:not([data-color-mode]) .profile-premium-badge {
    background-color: rgba(46, 125, 50, 0.2);
    color: #81c784;
  }
}

/* Mobile responsive for profile */
@media (max-width: 480px) {
  .profile-card {
    @apply p-[var(--space-5)];
  }

  .profile-avatar,
  .profile-avatar-placeholder {
    @apply w-16 h-16;
  }

  .profile-avatar-placeholder {
    @apply text-2xl;
  }

  .profile-stats-grid {
    @apply gap-[var(--space-2)];
  }

  .profile-stat-card {
    @apply p-[var(--space-3)];
  }

  .profile-stat-value {
    @apply text-xl;
  }
}
